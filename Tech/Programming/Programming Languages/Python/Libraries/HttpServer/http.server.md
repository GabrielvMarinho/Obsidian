build on top of the socket interface